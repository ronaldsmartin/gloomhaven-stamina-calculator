(this["webpackJsonpgloomhaven-stamina-calculator"]=this["webpackJsonpgloomhaven-stamina-calculator"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"a":"0.1.0"}')},15:function(e,t,n){e.exports=n(30)},20:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(6),u=n.n(o),i=(n(20),n(5)),l=n(3),s=(n(25),n(13)),d=function(){return c.a.createElement("footer",null,c.a.createElement("p",null,"Gloomhaven Stamina Calculator"),c.a.createElement("p",null,"\xa9 2019 Ronald Martin"),c.a.createElement("p",null,c.a.createElement("strong",null,"v",s.a)," ",c.a.createElement("a",{href:"https://github.com/ronaldsmartin/gloomhaven-stamina-calculator"},"Source on GitHub")),c.a.createElement("p",null,c.a.createElement("a",{href:"https://boardgamegeek.com/boardgame/174430/gloomhaven"},"Gloomhaven")," and all related content belong to ",c.a.createElement("a",{href:"http://www.cephalofair.com/gloomhaven"},"Cephalofair Games"),", ",c.a.createElement("a",{href:"https://boardgamegeek.com/boardgame/174430/gloomhaven/credits"},"et al"),". I do not profit from this work."))},E=function(e){return c.a.createElement("nav",null,c.a.createElement("label",null,"Character class:",c.a.createElement("select",{value:e.currentCharacterId,onChange:function(t){return e.handleChange(t.target.value)}},e.allCharacters.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)})))))};function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{id:e,name:e.toString(),handSize:t,hasRevivingEther:n}}!function(e){e.Brute="Brute",e.Cragheart="Cragheart",e.Mindthief="Mindthief",e.Scoundrel="Scoundrel",e.Spellweaver="Spellweaver",e.Tinker="Tinker",e.Sawbones="Saw"}(r||(r={}));var h,p=[m(r.Brute,10),m(r.Cragheart,11),m(r.Mindthief,10),m(r.Scoundrel,9),m(r.Spellweaver,8,!0),m(r.Tinker,12),m(r.Sawbones,10)];!function(e){e.CHANGE_CHARACTER="CHANGE_CHARACTER"}(h||(h={}));var f=n(14);var R,C=Object(i.b)((function(e){return{currentCharacterId:e.character.current.id,allCharacters:p}}),(function(e){return{handleChange:function(t){return e((n=t,{type:h.CHANGE_CHARACTER,newCharacter:p.find((function(e){return e.id===n}))||Object(f.fail)("Unknown character picked: ".concat(n))}));var n}}}))(E),A=n(4);!function(e){e.PLAY_STANDARD="PLAY_STANDARD",e.PLAY_LOSS_CARD="PLAY_LOSS_CARD",e.SHORT_REST="SHORT_REST",e.LONG_REST="LONG_REST",e.ESCAPE_DAMAGE_HAND="ESCAPE_DAMAGE_HAND",e.ESCAPE_DAMAGE_DISCARD="ESCAPE_DAMAGE_DISCARD",e.USE_STAMINA_POTION="USE_STAMINA_POTION",e.REVIVING_ETHER="REVIVING_ETHER",e.END_TURN="END_TURN",e.OTHER_ACTION="OTHER_ACTION"}(R||(R={}));var O,v=function(e){return c.a.createElement("tr",{className:"ShortRestRow ".concat(g(e.turnTiming))},c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",{className:"TurnDescription ShortRestDescription"},"Short rest!"))},S=function(e){return c.a.createElement("tr",{className:"TurnRecordRow ".concat(g(e.turnTiming))},c.a.createElement("th",{className:"TurnRoundNumber",scope:"row"},e.roundNumber),c.a.createElement("td",null,e.icons&&c.a.createElement("div",{className:"TurnIcons"},e.icons.map((function(e){return c.a.createElement("img",{src:e.imageName,alt:e.description})})))),c.a.createElement("td",{className:"TurnDescription"},e.description))};function g(e){switch(e){case O.Previous:return"PreviousTurn";case O.Future:return"FutureTurn"}}function T(e,t,n){return e.map((function(e,r){return function(e,t,n,r,a){if(e.type===R.SHORT_REST)return c.a.createElement(v,{key:"short-rest-".concat(n),turnTiming:r});return c.a.createElement(S,{key:"round-".concat(n,"-action-").concat(t,"-").concat(e.type),roundNumber:a?n:void 0,description:_(e),turnTiming:r})}(e,r,t,n,0===r)}))}function _(e){switch(e.type){case R.PLAY_STANDARD:return"Play a standard action card";case R.PLAY_LOSS_CARD:return"Play a loss card";case R.SHORT_REST:return"Short rest";case R.LONG_REST:return"Long rest";case R.ESCAPE_DAMAGE_HAND:return"Lose one hand card to escape damage";case R.ESCAPE_DAMAGE_DISCARD:return"Lose two discard cards to escape damage";case R.USE_STAMINA_POTION:return"Use stamina potion";case R.REVIVING_ETHER:return"Activate Reviving Ether";case R.END_TURN:return"End the turn.";case R.OTHER_ACTION:return""}}!function(e){e[e.Previous=0]="Previous",e[e.Future=1]="Future"}(O||(O={}));var b=function(e){return c.a.createElement("table",{className:"TurnList"},c.a.createElement("caption",null,"Turns"),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Round Number"),c.a.createElement("th",{scope:"col"}),c.a.createElement("th",{scope:"col"},"Actions taken"))),c.a.createElement("tbody",null,e.completedRounds.flatMap((function(e,t){return T(e,t+1,O.Previous)}))),c.a.createElement("tbody",null,e.projectedRounds.flatMap((function(t,n){return T(t,n+e.completedRounds.length+1,O.Previous)}))))},D=function(e){return c.a.createElement("div",{className:"Summary"},c.a.createElement("h2",null,"Summary"),c.a.createElement("dl",null,c.a.createElement("dt",null,"Round"),c.a.createElement("dd",null,e.currentRound),c.a.createElement("dt",null,"Cards Left"),c.a.createElement("dd",null,e.cardsInPlay),c.a.createElement("dt",null,"Turns Left"),c.a.createElement("dd",null,e.turnsRemaining)))},N=function(e){return c.a.createElement("div",null,c.a.createElement(D,{currentRound:e.currentRound,cardsInPlay:e.currentHandCount,turnsRemaining:e.projectedRounds.length}),c.a.createElement(b,{completedRounds:e.completedRounds,projectedRounds:e.projectedRounds}))};function y(){return{type:R.PLAY_STANDARD}}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={current:p.find((function(e){return e.id===r.Brute}))||fail("Missing Brute character definition")},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.CHANGE_CHARACTER:return w({},e,{current:t.newCharacter});default:return e}};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=H.current,M={startingHandCount:G.handSize,hasRevivingEther:G.hasRevivingEther,currentRound:1,currentHandCount:G.handSize,currentDiscardCount:0,currentLostCount:0,completedRounds:[],projectedRounds:[]};function k(e,t,n,r,a){if(t<2)return[];var c=t+n-1;if(a&&c<2)return[[{type:R.PLAY_LOSS_CARD},{type:R.REVIVING_ETHER}]].concat(k(e,e-1,0,0,!1));var o=[y(),y()];return t<4&&c>=2?(o.push({type:R.SHORT_REST}),[o].concat(k(e,c,0,r+1,a))):[o].concat(k(e,t-2,n+2,r,a))}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.PLAY_STANDARD:return I({},e,{currentHandCount:e.currentHandCount-1,currentDiscardCount:e.currentDiscardCount+1});case R.PLAY_LOSS_CARD:case R.ESCAPE_DAMAGE_HAND:return I({},e,{currentHandCount:e.currentHandCount-1,currentLostCount:e.currentLostCount+1});case R.SHORT_REST:case R.LONG_REST:return I({},e,{currentHandCount:e.currentHandCount+Math.max(e.currentDiscardCount-1,0),currentDiscardCount:0,currentLostCount:Math.min(e.currentLostCount+1,e.startingHandCount)});case R.ESCAPE_DAMAGE_DISCARD:return I({},e,{currentDiscardCount:e.currentDiscardCount-2,currentLostCount:e.currentLostCount+2});case R.USE_STAMINA_POTION:return I({},e,{currentHandCount:e.currentHandCount+Math.min(2,e.currentDiscardCount),currentDiscardCount:Math.max(e.currentDiscardCount-2,0)});case R.REVIVING_ETHER:return I({},e,{currentHandCount:e.currentHandCount+e.currentLostCount,currentLostCount:0,hasRevivingEther:!1});case R.END_TURN:return I({},e,{currentRound:e.currentRound+1});case R.OTHER_ACTION:return e;case h.CHANGE_CHARACTER:var n=t.newCharacter;return I({},e,{startingHandCount:n.handSize,hasRevivingEther:n.hasRevivingEther,currentRound:1,currentHandCount:n.handSize,currentDiscardCount:0,currentLostCount:0,completedRounds:[]});default:return e}};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Y=Object(i.b)((function(e){var t=e.calculator;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{projectedRounds:k(t.startingHandCount,t.currentHandCount,t.currentDiscardCount,t.currentLostCount,t.hasRevivingEther)||[]})}),(function(e){}))(N),B=Object(l.b)({character:j,calculator:U}),z=Object(l.c)(B),x=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i.a,{store:z},c.a.createElement(C,null),c.a.createElement("main",null,c.a.createElement(Y,null))),c.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.29ee8728.chunk.js.map